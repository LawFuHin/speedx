{"ast":null,"code":"var _jsxFileName = \"/Users/lawfuhin/vscode/speedx/fontend/src/Components/Chat.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Chat(_ref) {\n  _s();\n  let {\n    socket\n  } = _ref;\n  const [messagesRecieved, setMessagesReceived] = useState([]);\n  useEffect(() => {\n    socket.on(\"receive_message\", data => {\n      console.log(data);\n      setMessagesReceived(state => [...state, {\n        message: data.message,\n        username: data.username,\n        __createdtime__: data.__createdtime__\n      }]);\n    });\n\n    // Remove event listener on component unmount\n    return () => socket.off(\"receive_message\");\n  }, [socket]);\n\n  // dd/mm/yyyy, hh:mm:ss\n  function formatDateFromTimestamp(timestamp) {\n    const date = new Date(timestamp);\n    return date.toLocaleString();\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: messagesRecieved.map((msg, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"space-between\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.msgMeta,\n          children: msg.username\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: styles.msgMeta,\n          children: formatDateFromTimestamp(msg.__createdtime__)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: styles.msgText,\n        children: msg.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 11\n      }, this)]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n}\n_s(Chat, \"3rIfIssNvQTmqd6RSEuafKtl6hA=\");\n_c = Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useState","useEffect","Chat","socket","messagesRecieved","setMessagesReceived","on","data","console","log","state","message","username","__createdtime__","off","formatDateFromTimestamp","timestamp","date","Date","toLocaleString","map","msg","i","display","justifyContent","styles","msgMeta","msgText"],"sources":["/Users/lawfuhin/vscode/speedx/fontend/src/Components/Chat.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nexport default function Chat({ socket }) {\n  const [messagesRecieved, setMessagesReceived] = useState([]);\n\n  useEffect(() => {\n    socket.on(\"receive_message\", (data) => {\n      console.log(data);\n      setMessagesReceived((state) => [\n        ...state,\n        {\n          message: data.message,\n          username: data.username,\n          __createdtime__: data.__createdtime__,\n        },\n      ]);\n    });\n\n    // Remove event listener on component unmount\n    return () => socket.off(\"receive_message\");\n  }, [socket]);\n\n  // dd/mm/yyyy, hh:mm:ss\n  function formatDateFromTimestamp(timestamp) {\n    const date = new Date(timestamp);\n    return date.toLocaleString();\n  }\n\n  return (\n    <div>\n      {messagesRecieved.map((msg, i) => (\n        <div key={i}>\n          <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n            <span className={styles.msgMeta}>{msg.username}</span>\n            <span className={styles.msgMeta}>\n              {formatDateFromTimestamp(msg.__createdtime__)}\n            </span>\n          </div>\n          <p className={styles.msgText}>{msg.message}</p>\n          <br />\n        </div>\n      ))}\n    </div>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC;AAEnD,eAAe,SAASC,IAAI,OAAa;EAAA;EAAA,IAAZ;IAAEC;EAAO,CAAC;EACrC,MAAM,CAACC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGL,QAAQ,CAAC,EAAE,CAAC;EAE5DC,SAAS,CAAC,MAAM;IACdE,MAAM,CAACG,EAAE,CAAC,iBAAiB,EAAGC,IAAI,IAAK;MACrCC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;MACjBF,mBAAmB,CAAEK,KAAK,IAAK,CAC7B,GAAGA,KAAK,EACR;QACEC,OAAO,EAAEJ,IAAI,CAACI,OAAO;QACrBC,QAAQ,EAAEL,IAAI,CAACK,QAAQ;QACvBC,eAAe,EAAEN,IAAI,CAACM;MACxB,CAAC,CACF,CAAC;IACJ,CAAC,CAAC;;IAEF;IACA,OAAO,MAAMV,MAAM,CAACW,GAAG,CAAC,iBAAiB,CAAC;EAC5C,CAAC,EAAE,CAACX,MAAM,CAAC,CAAC;;EAEZ;EACA,SAASY,uBAAuB,CAACC,SAAS,EAAE;IAC1C,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAACF,SAAS,CAAC;IAChC,OAAOC,IAAI,CAACE,cAAc,EAAE;EAC9B;EAEA,oBACE;IAAA,UACGf,gBAAgB,CAACgB,GAAG,CAAC,CAACC,GAAG,EAAEC,CAAC,kBAC3B;MAAA,wBACE;QAAK,KAAK,EAAE;UAAEC,OAAO,EAAE,MAAM;UAAEC,cAAc,EAAE;QAAgB,CAAE;QAAA,wBAC/D;UAAM,SAAS,EAAEC,MAAM,CAACC,OAAQ;UAAA,UAAEL,GAAG,CAACT;QAAQ;UAAA;UAAA;UAAA;QAAA,QAAQ,eACtD;UAAM,SAAS,EAAEa,MAAM,CAACC,OAAQ;UAAA,UAC7BX,uBAAuB,CAACM,GAAG,CAACR,eAAe;QAAC;UAAA;UAAA;UAAA;QAAA,QACxC;MAAA;QAAA;QAAA;QAAA;MAAA,QACH,eACN;QAAG,SAAS,EAAEY,MAAM,CAACE,OAAQ;QAAA,UAAEN,GAAG,CAACV;MAAO;QAAA;QAAA;QAAA;MAAA,QAAK,eAC/C;QAAA;QAAA;QAAA;MAAA,QAAM;IAAA,GAREW,CAAC;MAAA;MAAA;MAAA;IAAA,QAUZ;EAAC;IAAA;IAAA;IAAA;EAAA,QACE;AAEV;AAAC,GA1CuBpB,IAAI;AAAA,KAAJA,IAAI;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}